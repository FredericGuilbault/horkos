<html>
<head>
<title>My vote should count</title>
</head>
<body>
<a name="top"></a>

{% if error == true %} 
<h1>How many votes will the {{summary.jurisdictionName}} election waste this time?</h1><table>
{% else %}
<h1>{{summary.totalWastedVotes}} unrepresented votes (so far) in {{summary.electionName}} election</h1><table>
{% endif %}


<tr><td bgcolor="#00AAB4" border="1"><a href="http://www.fairvote.ca"><img src="http://campaign2015.fairvote.ca/wp-content/themes/fairvotecanada/images/structure/unfair.png"></a></td>


<td>Hello,


<p>My name is <a href="https://www.linkedin.com/in/julienlamarche">Julien Lamarche</a> (<a href="https://twitter.com/cyclingzealot">@cyclingzealot</a>).  I am a volunteer for <a href="http://www.fairvote.ca">Fair Vote Canada</a> (<a href="https://twitter.com/FairVoteCanada">@FairVoteCanada</a>), an organization that does 
public education and lobbying to change the voting system so that more votes count.</p>

{% if error == true %}
<p>We will be showing a compilation of unrepresented votes by riding and by party below  once the
{{summary.electionName}}<a href="{{summary.source}}">*</a> live election results are published.</p>  
{% else %}
<p>Below is a compilation of the numbers taken from the 
<a href="{{summary.source}}">{{summary.electionName}} live election results</a>.  </p>

<p>It sorts ridings by percentage of unrepresented votes.  An unrepresented vote is a vote that will not be represented in the legislature because it did not 
go to the winning candidate.  At the bottom you will also see <a href="#byParty">unrepresented votes by party</a>.</p>
{% endif %}

<p>Winner-take-all systems (both first past the post and preferential ballot - ie Alternative Vote) have a high 
rate of wasted or unrepresented votes.  But most democracies have moved on to some form of proportional voting system which greatly diminish the lack of 
representation (to about 5% of unrepresented votes). A proportional voting system also eliminates false government majorities.</p>

<p>If you wish to help:<ul>
<li>Go <a href="http://secure.fairvote.ca/en/declaration">Sign the Declaration of Voters Rights</a></li>
{% if error == true %} 
<li>Share: <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.myvoteshouldcount.ca" data-text="How many votes will the {{summary.jurisdictionName}} election waste this time?" data-related="FairVoteCanada" data-count="none" data-hashtags="wastedvotes,fairvote" data-dnt="true">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
{% else %}
<li>Share: <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.myvoteshouldcount.ca" data-text="{{jurisdiction.wasted}} wasted votes in {{summary.jurisdictionName | title}} {{summary.tweetHandle}}" data-related="FairVoteCanada" data-count="none" data-hashtags="wastedvotes,fairvote" data-dnt="true">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
{% endif %}
<li><a href="http://www.fairvote.ca/donate/">Donate</a> to Fair Vote Canada
<li><a href="https://payment.csfm.com/donations/fair_vote/en/index.php">Join</a> Fair Vote Canada</li>
<li>Retweet relevant <a href="https://twitter.com/cyclingzealot">@cyclingzealot</a>, <a href="https://twitter.com/search?q=%23wastedvotes">#wastedvotes</a> tweets during the election</li>
<li>After the election, follow and retweet <a href="https://twitter.com/FairVoteCanada">@FairVoteCanada</a>, <a href="https://twitter.com/search?q=%23pr2015">#pr2015</a> and <a href="https://twitter.com/search?q=%23fairvote">#fairvote</a></li>
</ul>

More information is available on the website of <a href="http://www.fairvote.ca">Fair Vote Canada</a></p>

{% include 'JlamHorkosBundle:Horkos:' ~ election ~ '.contact.html.twig' %}

</td></tr></table>


<!-- Riding table -->
{% if error != true %}
<a name="data"></a>
<h1>The numbers</a>.
Data from indvidual ridings used in this compilation may be from 0 to 30 minutes late.
<p><table width="100%" border="1">
<tr><th>Riding name</th><th>Unrepresented votes %</th><th>Unrepresented votes</th><th>Participation rate % (so far) </th></tr>

{% for riding in ridings %}
	<tr>
		<td><a href="{{riding.source}}">{{riding.name}}</a></td>
		<td>{{"%.2f %%" | format(safe_divide(riding.unrepresentedVotes , riding.validVotes) * 100)}}</td>
		<td>{{riding.unrepresentedVotes}}</td>
		<td>{{"%.2f %%" | format(riding.participationRate * 100)}} <!-- {{riding.allRidingVotes}} / {{riding.eligibleVoters}} --> </td>
	</tr>
{% endfor %}

<tr style="font-weight: bold;">
	<td>{{summary.jurisdictionName}}</td>
	<td>{{"%.2f %%" | format(safe_divide(jurisdiction.wasted , jurisdiction.valid) * 100)}}</td>
	<td>{{jurisdiction.wasted}}</td>
	<td>{{"%.2f %%" | format(safe_divide(jurisdiction.all , jurisdiction.eligible) * 100)}}</td>
</tr>

</table></p>


<p><a name="byParty"><b>Unrepresented votes by party:</b></a>
<table border="1">
<tr><th>Party initials</th><th>Effective votes</th><th>Wasted votes</th><th>Total votes</th><th>Wasted votes %</th><th>Seats per {{magnitude}} votes</tr>
{% for party, partyData in partyTally %}

<tr>
<td>{{party}}</td>
<td align="right">{{partyData.effective}}</td>
<td align="right">{{partyData.wasted}}</td>
<td align="right">{{partyData.valid}}</td>
<td align="right">{{"%.2f %%" | format(safe_divide(partyData.wasted , partyData.valid) * 100)}}</td>
<td align="right">{{"%.1f" | format(safe_divide(partyData.leading , safe_divide(partyData.valid, magnitude)))}}</td>

</tr>


{% endfor %}
</table>
</p><a href="#top">Top</a>

{% endif %}

<hr />

<p><font size="-1">Results compiled on {{ "now"|date("Y-m-d H:i:s T") }}.  Data used for individual ridings may be from 0 to 30 minutes late. </font></p>
<p><font size="-1">Code available on <a href="{{summary.gitHubSource}}">Github</a>.  If you add "?format=csv" you will get the votes for each party in every riding in tabular format.</font></p>
</body>
</html>
